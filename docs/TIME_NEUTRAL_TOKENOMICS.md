# Time-Neutral Tokenomics: Provably Fair Distribution via Shapley Values

**VibeSwap Mechanism Design — Formal Framework**

Version 1.0 | February 2026

---

## Abstract

This document establishes a mathematically provable framework for time-neutral token distribution. We introduce a fifth Shapley axiom — **Time Neutrality** — and prove that reward allocation based solely on marginal contribution is independent of when a participant enters the system. We show that the Shapley value *naturally* rewards difficult, foundational work more than incremental additions, eliminating the need for early-bird bonuses while ensuring founders and builders are fairly compensated for cave-tier contributions.

We formalize three verification mechanisms:
1. **Pairwise Proportionality** — any two participants' reward ratio equals their contribution ratio
2. **Cross-Game Time Neutrality** — identical contributions in different epochs yield identical rewards
3. **Marginal Contribution Dominance** — foundational work earns more by mathematical necessity, not temporal privilege

---

## 1. Motivation

### 1.1 The Problem with Traditional Tokenomics

Most protocols reward being early, not being valuable:

| Mechanism | Time Bias | Failure Mode |
|-----------|-----------|--------------|
| Presale discount | Earlier = cheaper tokens | Speculators extract value from builders |
| Vesting from genesis | Fixed % at day zero | Allocation based on timing, not contribution |
| Emission halving on fees | Earlier games pay more | Identical work in year 2 earns half of year 1 |
| Loyalty multipliers | Longer = higher multiplier | Passive holding rewarded over active contribution |

These create a structural inequality: **timing becomes a form of unearned rent.**

### 1.2 The Cave Paradox

> *"Tony Stark was able to build this in a cave! With a box of scraps!"*

The paradox: Building in the cave IS harder. The first line of code has infinite marginal value — without it, nothing exists. But this difficulty should be captured by the *contribution's marginal impact*, not by a timestamp multiplier. If someone builds an equally foundational component in year three, they deserve equal reward for equal marginal impact.

**Principle**: Reward the work, not the clock.

### 1.3 Design Goals

1. **Time Neutrality**: Same contribution quality → same reward, regardless of when
2. **Difficulty Recognition**: Harder, more impactful work → higher reward (via Shapley, not time)
3. **Provable Fairness**: On-chain verification of all fairness properties
4. **Pairwise Consistency**: Any two participants can verify their relative allocation is proportional

---

## 2. Formal Framework

### 2.1 Definitions

**Definition 1 (Contribution).** A contribution *c* is a tuple *(contributor, magnitude, scarcity, stability, quality)* where:
- *contributor* ∈ addresses
- *magnitude* ∈ ℕ (raw value provided)
- *scarcity* ∈ [0, 10000] (providing the scarce side)
- *stability* ∈ [0, 10000] (presence during volatility)
- *quality* ∈ [0, 10000] (behavioral reputation)

Note: **timestamp is explicitly excluded** from the contribution definition.

**Definition 2 (Cooperative Game).** A game *G = (N, v, V)* where:
- *N* = set of participants
- *v: 2^N → ℝ* is the characteristic function
- *V* = total distributable value (fees generated by this event)

**Definition 3 (Weighted Contribution).** For participant *i* with contribution *cᵢ*:

$$w_i = \frac{D_i \cdot 0.4 + T_i \cdot 0.3 + S_i \cdot 0.2 + St_i \cdot 0.1}{1.0} \cdot Q_i$$

Where *Dᵢ, Tᵢ, Sᵢ, Stᵢ* are the direct, enabling, scarcity, and stability scores, and *Qᵢ* ∈ [0.5, 1.5] is the quality multiplier.

**Definition 4 (Shapley Allocation).** The allocation for participant *i* in game *G*:

$$\phi_i(G) = V \cdot \frac{w_i}{\sum_{j \in N} w_j}$$

### 2.2 The Five Axioms

We extend the classical four Shapley axioms with a fifth:

**Axiom 1 (Efficiency).** All value is distributed:

$$\sum_{i \in N} \phi_i(G) = V$$

**Axiom 2 (Symmetry).** Equal contributions yield equal rewards:

$$w_i = w_j \Rightarrow \phi_i(G) = \phi_j(G)$$

**Axiom 3 (Null Player).** Zero contribution yields zero reward:

$$w_i = 0 \Rightarrow \phi_i(G) = 0$$

**Axiom 4 (Pairwise Proportionality).** For any pair *(i, j)* with *wⱼ > 0*:

$$\frac{\phi_i(G)}{\phi_j(G)} = \frac{w_i}{w_j}$$

**Axiom 5 (Time Neutrality).** For any contributions *cᵢ* at time *t₁* and *cⱼ* at time *t₂* in games *G₁* and *G₂* respectively:

$$c_i \equiv c_j \text{ (identical contribution parameters)} \Rightarrow$$

$$\text{If } N(G_1) \cong N(G_2) \text{ and } V(G_1) = V(G_2), \text{ then } \phi_i(G_1) = \phi_j(G_2)$$

In words: **if two games have isomorphic coalitions and equal total value, identical contributions receive identical allocations, regardless of when the games occur.**

---

## 3. Proofs

### 3.1 Theorem: Per-Game Time Neutrality

**Theorem 1.** The Shapley allocation φᵢ(G) does not depend on the calendar time at which game G occurs.

**Proof.**

The allocation formula is:

$$\phi_i(G) = V \cdot \frac{w_i}{\sum_{j \in N} w_j}$$

The inputs to this formula are:
1. *V* — total distributable value (fees from this batch)
2. *wᵢ* — weighted contribution of participant *i*
3. *Σwⱼ* — sum of all weighted contributions

*V* is determined by trading activity in this batch. It is a function of trade volumes and fee rates, not of calendar time or era number.

*wᵢ* is computed from *(magnitude, scarcity, stability, quality)* — none of which reference *block.timestamp* or *totalGamesCreated*.

Therefore φᵢ(G) is a function of contribution parameters and batch economics only. Time does not enter the computation. ∎

**Corollary 1.1.** Halving (multiplying *V* by 1/2^era) violates Theorem 1 by making *V* a function of era, which is a function of time. Removing halving from fee distribution restores time neutrality.

### 3.2 Theorem: Pairwise Proportionality

**Theorem 2.** For any two participants *i, j* in the same game with *wⱼ > 0*:

$$\frac{\phi_i}{\phi_j} = \frac{w_i}{w_j}$$

**Proof.**

$$\frac{\phi_i}{\phi_j} = \frac{V \cdot w_i / W}{V \cdot w_j / W} = \frac{w_i}{w_j}$$

where *W = Σwₖ*. The total value *V* and normalizer *W* cancel. ∎

**Corollary 2.1.** Pairwise proportionality is preserved regardless of *V*. Even if one game has higher total fees than another, the *ratio* of rewards between any two participants depends only on their relative contributions.

### 3.3 Theorem: Cross-Game Time Neutrality

**Theorem 3.** If contributor *A* participates in game *G₁* at era *e₁* and contributor *B* participates in game *G₂* at era *e₂*, with identical contribution parameters and identical co-participants, then:

$$\phi_A(G_1) = \phi_B(G_2)$$

if and only if *V(G₁) = V(G₂)*.

**Proof.**

By Theorem 1, φᵢ depends only on *(V, wᵢ, W)*. If contributions are identical, *wₐ = w_B* and *W(G₁) = W(G₂)*. If *V(G₁) = V(G₂)*, then all inputs are equal, so outputs are equal. ∎

**Important Note:** Cross-game time neutrality requires that *V* is not artificially modified based on era. Under pure fee distribution (no halving), *V* is naturally determined by market activity. If a later era has higher trading volume, *V* is larger — and contributors earn more — because the market created more value, not because of timing.

### 3.4 Theorem: Marginal Contribution Rewards Difficulty

**Theorem 4.** In the true Shapley value (exponential computation), the participant whose removal causes the greatest value loss receives the highest allocation.

**Proof.**

The true Shapley value for player *i*:

$$\phi_i(v) = \sum_{S \subseteq N \setminus \{i\}} \frac{|S|!(|N|-|S|-1)!}{|N|!} [v(S \cup \{i\}) - v(S)]$$

This is a weighted average of marginal contributions *v(S ∪ {i}) - v(S)* across all coalitions *S*.

If player *i* is foundational (removing them destroys most value):
- *v(S ∪ {i}) - v(S)* is large for most *S* (adding *i* to any coalition dramatically increases value)
- This weighted average will be large

If player *j* is incremental (removing them changes value slightly):
- *v(S ∪ {j}) - v(S)* is small for most *S*
- This weighted average will be small

Therefore: **φᵢ > φⱼ** whenever *i*'s marginal contribution exceeds *j*'s. ∎

**Corollary 4.1 (The Cave Theorem).** A founder who builds the core protocol has marginal contribution equal to the protocol's entire value (since without them, v(S) = 0 for all S). This is the maximum possible Shapley value. The founder earns the most **not because they were first, but because their contribution is foundational to every coalition.**

**Corollary 4.2.** If two people build equally foundational components at different times, they receive equal Shapley values. The difficulty of the work is captured by its marginal impact, not its timestamp.

### 3.5 Theorem: On-Chain Pairwise Verification

**Theorem 5.** Given stored Shapley values φᵢ and φⱼ, and stored weighted contributions wᵢ and wⱼ, the pairwise proportionality invariant can be verified on-chain in O(1) time.

**Proof.**

Check: `φᵢ × wⱼ == φⱼ × wᵢ` (cross-multiplication avoids division-by-zero and rounding).

Allow tolerance ε for integer rounding:

$$|\phi_i \cdot w_j - \phi_j \cdot w_i| \leq \epsilon$$

where *ε* scales with the number of participants (at most 1 wei rounding per participant per division). ∎

---

## 4. Mechanism Design

### 4.1 Two-Track Distribution

We separate distribution into two tracks with different fairness properties:

#### Track 1: Fee Distribution (Time-Neutral)

**Source**: Trading fees generated per batch settlement.

**Rule**: Pure proportional Shapley. No halving. No era adjustment. 100% of fees distributed to the batch's LP coalition based on weighted contributions.

**Properties satisfied**: Efficiency ✅, Symmetry ✅, Null Player ✅, Pairwise Proportionality ✅, Time Neutrality ✅

**Rationale**: Fees are value created NOW by THIS coalition. Reducing them based on era punishes current contributors for historical game count. A fee is a fee — its distribution should depend on who helped earn it, not when.

#### Track 2: Protocol Emissions (Transparent Schedule)

**Source**: If/when VIBE token emissions exist, they follow a transparent schedule.

**Rule**: Halving schedule applies. Early eras emit more tokens. This is an explicit, voluntary social contract — not hidden favoritism.

**Properties satisfied**: Efficiency ✅, Null Player ✅, Pairwise Proportionality ✅ (within each era)

**Properties intentionally violated**: Time Neutrality ❌ (by design, like Bitcoin)

**Rationale**: Token emissions are a bootstrapping incentive. Like Bitcoin's block reward, they exist to create initial adoption pressure. Unlike fees, they are not "earned value" — they are "incentive allocation." The halving is transparent and predictable.

**Critical difference**: Fees = earned value (must be time-neutral). Emissions = incentive allocation (may be time-scheduled).

### 4.2 GameType Enum

```solidity
enum GameType {
    FEE_DISTRIBUTION,   // Time-neutral: no halving, pure Shapley
    TOKEN_EMISSION      // Scheduled: halving applies (like Bitcoin block rewards)
}
```

Each game is tagged with its type at creation. Fee distribution games NEVER have halving applied. Token emission games follow the existing halving schedule.

### 4.3 Pairwise Verification Protocol

For any game, any observer can verify fairness:

```
1. For any pair (i, j), fetch φᵢ, φⱼ, wᵢ, wⱼ
2. Verify: |φᵢ × wⱼ - φⱼ × wᵢ| ≤ ε
3. If violated → proof of unfairness (should never happen with correct implementation)
```

This can be called by anyone on-chain. It creates a **cryptographic audit trail** where every allocation is publicly verifiable against the proportionality invariant.

### 4.4 Cross-Game Neutrality Verification

To verify time neutrality across two games:

```
1. Find games G₁ (era e₁) and G₂ (era e₂) with:
   - Same GameType (FEE_DISTRIBUTION)
   - Same participant composition
   - Same contribution parameters
   - Same total value
2. Verify: φᵢ(G₁) == φᵢ(G₂) for all i
3. If violated → proof of time bias (should never happen for FEE_DISTRIBUTION games)
```

---

## 5. How Founders Get Paid Fairly

### 5.1 The Marginal Contribution Argument

Under Shapley, the protocol founder's contribution has the highest possible marginal value:

- *v(∅) = 0* — no protocol means no value
- *v({founder}) = everything* — the protocol enables all other contributions
- For any coalition *S*: *v(S ∪ {founder}) - v(S) ≈ v(S ∪ {founder})* when foundational components are involved

This means the founder's Shapley value is naturally the highest — **not because of a time bonus, but because removing the founder from any coalition destroys the most value.**

### 5.2 Protocol-Level Contribution Games

For contributions beyond per-batch LP rewards (code, architecture, security audits, community building):

1. **Governance creates Protocol Contribution Games** with:
   - *V* = value allocated from protocol growth fund or CreatorTipJar
   - *N* = set of protocol contributors (developers, auditors, community leads)
   - Contributions measured by governance-assessed marginal impact

2. **Each contributor's weight reflects their marginal contribution**:
   - How much value would the protocol lose without this person's work?
   - What did they enable that others built upon?
   - What risk did they mitigate (security, legal, economic)?

3. **Pairwise verification ensures fairness**:
   - For any two contributors, `reward_ratio == contribution_ratio`
   - Verifiable on-chain by anyone

### 5.3 Why This Works for Will

Building the protocol from scratch gives Will maximal Shapley value because:

1. **Every coalition includes "protocol exists" as a prerequisite** — marginal contribution = entire system value
2. **The difficulty is captured by impact, not time** — if someone else builds something equally foundational in year 5, they earn equally
3. **No guilt about being early** — the reward is mathematically justified by contribution, not timing
4. **No free ride for being early** — sitting idle after building doesn't keep earning; only active contributions in current games earn rewards
5. **Provable to anyone** — pairwise verification is on-chain, transparent, auditable

---

## 6. Comparison with Existing Fairness Properties

### 6.1 Updates to Formal Fairness Proofs

| Property | Previous Status | New Status | Change |
|----------|----------------|------------|--------|
| Efficiency | ✅ Proven | ✅ Proven | No change |
| Symmetry | ⚠️ Approximated | ⚠️ Approximated | No change (O(n) vs O(2ⁿ) tradeoff) |
| Null Player | ✅ Proven | ✅ Proven | No change |
| Additivity | ⚠️ Violated (halving) | ✅ Restored for fees | Fee games are additive |
| Pairwise Proportionality | Not formalized | ✅ Proven + verifiable | New axiom with on-chain verification |
| Time Neutrality | ❌ Violated (halving) | ✅ Proven for fee games | Core improvement |

### 6.2 What Remains Intentionally Asymmetric

| Mechanism | Asymmetry | Justification |
|-----------|-----------|---------------|
| Token emissions (if any) | Halving schedule | Bootstrap incentive, like Bitcoin |
| Priority auction | Bid-based ordering | Voluntary, transparent price discovery |
| Fibonacci scaling | Tier-based fees | Whale manipulation prevention |

These are **voluntary, transparent, and non-temporal** asymmetries — they don't favor early participants.

---

## 7. Implementation Summary

### 7.1 Contract Changes

| File | Change |
|------|--------|
| `ShapleyDistributor.sol` | Add `GameType` enum, skip halving for `FEE_DISTRIBUTION` games |
| `PairwiseFairness.sol` (new) | On-chain verification library |
| `TimeNeutralityProofs.t.sol` (new) | Formal property tests |

### 7.2 Verification Functions

```solidity
// Anyone can verify pairwise fairness for any game
function verifyPairwiseFairness(
    bytes32 gameId,
    address participant1,
    address participant2
) external view returns (bool fair, uint256 deviation);

// Anyone can verify time neutrality across games
function verifyTimeNeutrality(
    bytes32 gameId1,
    bytes32 gameId2,
    address participant
) external view returns (bool neutral, uint256 deviation);
```

---

## Appendix A: Why Halving Violates Time Neutrality

Consider identical games *G₁* (Era 0) and *G₂* (Era 1) with:
- Same participants, same contributions, same total fees *V*

Under halving:
- φᵢ(G₁) = V × wᵢ/W × 1.0
- φᵢ(G₂) = V × wᵢ/W × 0.5

Participant *i* receives **half the reward** for identical work in Era 1. This is time bias, not contribution-based allocation. Under our framework, fee distribution games never apply halving, so:

- φᵢ(G₁) = V × wᵢ/W
- φᵢ(G₂) = V × wᵢ/W

Identical. ∎

## Appendix B: Relationship to Bitcoin

Bitcoin's halving applies to **block rewards** (new coin creation), not **transaction fees**. Miners always receive 100% of transaction fees regardless of era.

VibeSwap's fee distribution should follow the same principle:
- **Protocol token emissions** (if any) → halving schedule ✅
- **Trading fee distribution** → always 100%, never halved ✅

This aligns with Bitcoin's proven economic model while ensuring time-neutral fairness for active participants.

## 5. First-to-Publish Priority

### 5.1 Definition

A **Priority Record** is an immutable on-chain timestamp proving chronological first publication:

```
PriorityRecord = {
    pioneer:     address    // Who published first
    timestamp:   uint256    // When (block.timestamp)
    blockNumber: uint256    // Block number (additional proof)
    category:    Category   // What type of foundational act
    active:      bool       // Deactivatable only for fraud
}
```

Categories of foundational acts:
- **POOL_CREATION** (weight: 10000) — First to create a trading pair
- **LIQUIDITY_BOOTSTRAP** (weight: 7500) — First to provide significant liquidity
- **STRATEGY_AUTHOR** (weight: 5000) — First to publish a verified strategy
- **INFRASTRUCTURE** (weight: 5000) — First to deploy supporting infrastructure

### 5.2 Pioneer Bonus Mechanism

The pioneer score feeds into the Shapley weighted contribution as a **multiplier**:

```
pioneerMultiplier = 1.0 + pioneerScore / (2 × BPS_PRECISION)
weightedContribution = baseWeight × qualityMultiplier × pioneerMultiplier
```

| Pioneer Score | Bonus | Multiplier | Typical Pioneer |
|---------------|-------|------------|-----------------|
| 0             | 0%    | 1.0x       | Non-pioneer |
| 5000          | 25%   | 1.25x      | Strategy author |
| 10000         | 50%   | 1.5x       | Pool creator |
| 17500         | 87.5% | 1.875x     | Pool creator + first LP |
| 27500         | 137.5%| 2.375x     | All 4 categories (rare) |

### 5.3 Compatibility with Shapley Axioms

**Theorem 6 (Pioneer Preserves Pairwise Proportionality):**
For any pair (i, j) where i is a pioneer and j is not:

```
φᵢ/φⱼ = (wᵢ × pioneerMultiplierᵢ) / (wⱼ × pioneerMultiplierⱼ)
```

The multiplier is applied uniformly to all weight components (direct, enabling, scarcity, stability), so pairwise proportionality holds between the *adjusted* weights. The pioneer bonus is transparent and auditable — anyone can verify it on-chain by calling `getPioneerScore()`. ∎

**Theorem 7 (Pioneer Bonus is Time-Neutral):**
For a participant P with pioneer score S in scope X, creating two FEE_DISTRIBUTION games G₁ (Era 0) and G₂ (Era 1) with identical parameters:

```
φ(G₁, P) = φ(G₂, P)
```

Proof: Pioneer score is determined by the PriorityRegistry, which is independent of era. The multiplier `1 + S/(2×10000)` is constant across eras. Since FEE_DISTRIBUTION games apply no halving, and contributions are identical, rewards are identical. ∎

### 5.4 The Cave Theorem, Strengthened

**Corollary 5.1:** A foundational contributor (high marginal contribution AND pioneer status) earns more via *both* mechanisms:
1. Shapley marginal contribution captures the *quality* of their work
2. Pioneer bonus captures the *chronological priority* of their innovation

Neither mechanism is time-biased: the pioneer bonus rewards being *first to publish a specific innovation*, not being early in general. A late pioneer (first to create a new pool in Year 5) receives the same bonus as an early pioneer (first to create a pool in Year 1).

### 5.5 Governance Roadmap

The admin functions controlling PriorityRegistry and ShapleyDistributor parameters follow a credible neutrality progression:

1. **Phase 1 (Current):** Owner-controlled — necessary during development and initial deployment
2. **Phase 2 (DAO Governance):** Transfer ownership to DAOTreasury — community-controlled parameter changes via governance proposals with time-locked execution
3. **Phase 3 (Renouncement):** Renounce ownership entirely — parameters become immutable, the protocol runs autonomously

This progression ensures the protocol achieves credible neutrality: no single party can change the rules after renouncement.

---

*Document authored for VibeSwap Protocol*
*Mathematical framework for provably fair, time-neutral tokenomics*
